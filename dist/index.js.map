{"version":3,"sources":["webpack://main/webpack/bootstrap","webpack://main/./src/aws.js","webpack://main/./src/config.js","webpack://main/./src/index.js","webpack://main/external \"aws-sdk\"","webpack://main/external \"babel-runtime/helpers/asyncToGenerator\"","webpack://main/external \"babel-runtime/regenerator\""],"names":["aws","config","update","region","accessKeyId","secretAccessKey","httpOptions","timeout","s3","S3","s3Params","Bucket","bucket","Key","filePath","awsHelper","getS3Data","jsonDataOutside","response","getObject","err","data","console","log","promise","then","jsonData","JSON","parse","Buffer","Body","toString","process","env","AWS_ACCESS_KEY_ID","AWS_SECRET_ACCESS_KEY","AWS_REGION","S3_BUCKET","S3_FILE_PATH","getJsonData"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;;IAAYA,G;;AACZ;;;;;;;;AAEAA,IAAIC,MAAJ,CAAWC,MAAX,CAAkB;AAChBC,YAAQF,iBAAOD,GAAP,CAAWG,MADH;AAEhBC,iBAAaH,iBAAOD,GAAP,CAAWI,WAFR;AAGhBC,qBAAiBJ,iBAAOD,GAAP,CAAWK,eAHZ;AAIhBC,iBAAa;AACXC,iBAAS,IADE,CACG;AADH;AAJG,CAAlB;;AAUA,IAAMC,KAAK,IAAIR,IAAIS,EAAR,EAAX;;AAEA,IAAMC,WAAW;AACbC,YAAQV,iBAAOO,EAAP,CAAUI,MADL;AAEbC,SAAKZ,iBAAOO,EAAP,CAAUM;AAFF,CAAjB;;AAKA,IAAMC,YAAY;AACdC;AAAA,4FAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,2CADG,GACe,EADf;AAEDC,oCAFC,GAEUV,GAAGW,SAAH,CAAaT,QAAb,EAAuB,UAACU,GAAD,EAAMC,IAAN,EAAe;AACnD,oCAAID,GAAJ,EAAS;AACLE,4CAAQC,GAAR,CAAY,qCAAZ;AACAD,4CAAQC,GAAR,CAAYH,GAAZ;AACH;AACJ,6BALgB,CAFV;AAAA;AAAA,mCASDF,SAASM,OAAT,GAAmBC,IAAnB,CAAwB,UAACJ,IAAD,EAAU;AACpC,oCAAMK,WAAWC,KAAKC,KAAL,CAAW,IAAIC,MAAJ,CAAWR,KAAKS,IAAhB,EAAsBC,QAAtB,CAA+B,MAA/B,CAAX,CAAjB;AACAd,kDAAkBS,QAAlB;AACH,6BAHK,CATC;;AAAA;AAAA,6DAcAT,eAdA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAX;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADc,CAAlB;;kBAmBeF,S;;;;;;;;;;;;;;;;;ACvCf,IAAMd,SAAS;AACbD,OAAK;AACHI,iBAAa4B,QAAQC,GAAR,CAAYC,iBADtB;AAEH7B,qBAAiB2B,QAAQC,GAAR,CAAYE,qBAF1B;AAGHhC,YAAQ6B,QAAQC,GAAR,CAAYG;AAHjB,GADQ;AAMb5B,MAAI;AACFI,YAAQoB,QAAQC,GAAR,CAAYI,SADlB;AAEFvB,cAAUkB,QAAQC,GAAR,CAAYK;AAFpB;AANS,CAAf;;kBAYerC,M;;;;;;;;;;;;;;;;;;;;;;;sFCVf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBc,cAAUC,SAAV,EADzB;;AAAA;AACQU,oBADR;;AAEEJ,oBAAQC,GAAR,CAAY,6BAAZ;AACAD,oBAAQC,GAAR,CAAYG,QAAZ;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAea,W;;;;;AAFf;;;;;;AASAA,c;;;;;;;;;;;ACTA,oC;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,sD","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lambda/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import * as aws from 'aws-sdk'\nimport config from './config'\n\naws.config.update({\n  region: config.aws.region,\n  accessKeyId: config.aws.accessKeyId,\n  secretAccessKey: config.aws.secretAccessKey,\n  httpOptions: {\n    timeout: 5000 // 5 seconds\n  }\n})\n\n\nconst s3 = new aws.S3()\n\nconst s3Params = {\n    Bucket: config.s3.bucket,\n    Key: config.s3.filePath\n}\n\nconst awsHelper = {\n    getS3Data: async () => {\n        let jsonDataOutside = {}\n        const response = s3.getObject(s3Params, (err, data) => {\n            if (err) {\n                console.log('----------- Error S3 --------------')\n                console.log(err)\n            }\n        })\n\n        await response.promise().then((data) => {\n            const jsonData = JSON.parse(new Buffer(data.Body).toString(\"utf8\"));\n            jsonDataOutside = jsonData\n        })\n\n        return jsonDataOutside\n    }\n}\n\nexport default awsHelper;","const config = {\n  aws: {\n    accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n    secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,\n    region: process.env.AWS_REGION\n  },\n  s3: {\n    bucket: process.env.S3_BUCKET,\n    filePath: process.env.S3_FILE_PATH\n  }\n}\n\nexport default config","import awsHelper from './aws'\n\nasync function getJsonData() {\n  const jsonData = await awsHelper.getS3Data()\n  console.log('------- Final Output ------');\n  console.log(jsonData)\n}\n\n\ngetJsonData()\n","module.exports = require(\"aws-sdk\");","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");","module.exports = require(\"babel-runtime/regenerator\");"],"sourceRoot":""}